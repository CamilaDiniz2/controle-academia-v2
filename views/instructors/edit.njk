{% extends "layout.njk" %}

{% block content %}

<div class="card" >
  <div class="avatar" style="background: url({{instructor.avatar_url}}) no-repeat center center / cover" ></div>
   <div class="details">
    <form method="POST" action="/instructors?_method=PUT">
      <h3>Editar Instrutor: </h3>
      {% include 'instructors/fields.njk' %}
      <input type="hidden" name="id" value={{instructor.id}} />
    </form>

    <form class="form-delete" action="/instructors?_method=DELETE" method="POST">
      <input type="hidden" name="id" value={{instructor.id}} />
      <button type="submit" class="delete">Deletar</button>
    </form>

    <script>
      const formDelete = document.querySelector('.form-delete');
      formDelete.addEventListener('submit', (event) => {
        const confirmation = confirm("Deseja mesmo deletar este instrutor?")
        if(!confirmation) event.preventDefault();
      })
    </script>
  </div>
</div>
{% endblock content %}